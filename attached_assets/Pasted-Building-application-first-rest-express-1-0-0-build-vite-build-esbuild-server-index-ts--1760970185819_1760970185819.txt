Building application first...

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.20 building for production...
✓ 3793 modules transformed.
[plugin:vite:reporter] [plugin vite:reporter] 
(!) /Users/homeimac/Downloads/RecipeRealm/client/src/pages/ai-insights.tsx is dynamically imported by /Users/homeimac/Downloads/RecipeRealm/client/src/pages/ml-ai-consolidated.tsx but also statically imported by /Users/homeimac/Downloads/RecipeRealm/client/src/App.tsx, dynamic import will not move module into another chunk.

[plugin:vite:reporter] [plugin vite:reporter] 
(!) /Users/homeimac/Downloads/RecipeRealm/client/src/pages/ml-training.tsx is dynamically imported by /Users/homeimac/Downloads/RecipeRealm/client/src/pages/ml-ai-consolidated.tsx but also statically imported by /Users/homeimac/Downloads/RecipeRealm/client/src/App.tsx, dynamic import will not move module into another chunk.

../dist/public/index.html                              3.22 kB │ gzip:   1.10 kB
../dist/public/assets/index-DMDy_FuA.css             117.67 kB │ gzip:  18.53 kB
../dist/public/assets/purify.es-DfngIMfA.js           22.26 kB │ gzip:   8.72 kB
../dist/public/assets/index.es-BunorYqx.js           150.57 kB │ gzip:  51.51 kB
../dist/public/assets/html2canvas.esm-CBrSDip1.js    201.42 kB │ gzip:  48.03 kB
../dist/public/assets/jspdf.es.min-C_b9Umrf.js       413.63 kB │ gzip: 135.01 kB
../dist/public/assets/index-BC5m2a7D.js            2,148.11 kB │ gzip: 535.45 kB

(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
✓ built in 14.35s

  dist/index.js  2.3mb ⚠️

⚡ Done in 130ms
✓ Node.js runtime found (147M)
✓ Node.js binary verified

Cleaning previous builds...
Building macOS app (this takes 3-5 minutes)...

  • electron-builder  version=26.0.12 os=21.6.0
  • loaded configuration  file=/Users/homeimac/Downloads/RecipeRealm/electron-builder.yml
  • description is missed in the package.json  appPackageFile=/Users/homeimac/Downloads/RecipeRealm/package.json
  • author is missed in the package.json  appPackageFile=/Users/homeimac/Downloads/RecipeRealm/package.json
  • writing effective config  file=dist/electron/builder-effective-config.yaml
  • executing @electron/rebuild  electronVersion=38.3.0 arch=x64 buildFromSource=false appDir=./
  • installing native dependencies  arch=x64
  • preparing       moduleName=@serialport/bindings-cpp arch=x64
  • finished        moduleName=@serialport/bindings-cpp arch=x64
  • preparing       moduleName=@tensorflow/tfjs-node arch=x64
  • finished        moduleName=@tensorflow/tfjs-node arch=x64
  • preparing       moduleName=bufferutil arch=x64
  • finished        moduleName=bufferutil arch=x64
  • preparing       moduleName=cpu-features arch=x64
  ⨯ gyp verb clean removing "build" directory
gyp verb download using dist-url https://www.electronjs.org/headers
gyp verb find Python Python is not set from command line or npm configuration
gyp verb find Python Python is not set from environment variable PYTHON
gyp verb find Python checking if "python3" can be used
gyp verb find Python - executing "python3" to get executable path
gyp sill find Python execFile: exec = "python3"
gyp sill find Python execFile: args = ["-c","import sys; sys.stdout.buffer.write(sys.executable.encode('utf-8'));"]
gyp sill find Python execFile: opts = {"env":{"TERM_PROGRAM":"Apple_Terminal","NODE":"/usr/local/bin/node","INIT_CWD":"/Users/homeimac/Downloads/RecipeRealm","SHELL":"/bin/zsh","TERM":"dumb","TMPDIR":"/var/folders/gf/mp6w2pgd18987bwmw0zx1nk00000gn/T/","npm_config_global_prefix":"/usr/local","TERM_PROGRAM_VERSION":"445.1","COLOR":"1","TERM_SESSION_ID":"FA8B75B8-0B16-43F0-80A4-19E8BC7AE956","npm_config_noproxy":"","npm_config_local_prefix":"/Users/homeimac/Downloads/RecipeRealm","USER":"homeimac","npm_config_globalconfig":"/usr/local/etc/npmrc","SSH_AUTH_SOCK":"/private/tmp/com.apple.launchd.R6kxdC8mX3/Listeners","__CF_USER_TEXT_ENCODING":"0x1F5:0x0:0x64","npm_execpath":"/usr/local/lib/node_modules/npm/bin/npm-cli.js","PATH":"/Users/homeimac/Downloads/RecipeRealm/node_modules/.bin:/Users/homeimac/Downloads/RecipeRealm/node_modules/.bin:/Users/homeimac/Downloads/node_modules/.bin:/Users/homeimac/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin","npm_package_json":"/Users/homeimac/Downloads/RecipeRealm/package.json","_":"/Users/homeimac/Downloads/RecipeRealm/node_modules/.bin/electron-builder","LaunchInstanceID":"94C121F0-159C-48E6-BDDD-DCF866C3E664","npm_config_userconfig":"/Users/homeimac/.npmrc","npm_config_init_module":"/Users/homeimac/.npm-init.js","__CFBundleIdentifier":"com.apple.Terminal","npm_command":"exec","PWD":"/Users/homeimac/Downloads/RecipeRealm","npm_lifecycle_event":"npx","EDITOR":"vi","npm_package_name":"rest-express","npm_config_npm_version":"10.2.4","XPC_FLAGS":"0x0","npm_config_node_gyp":"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js","npm_package_version":"1.0.0","XPC_SERVICE_NAME":"0","SHLVL":"3","HOME":"/Users/homeimac","npm_config_cache":"/Users/homeimac/.npm","LOGNAME":"homeimac","npm_lifecycle_script":"electron-builder","LC_CTYPE":"UTF-8","npm_config_user_agent":"npm/10.2.4 node/v20.11.0 darwin x64 workspaces/false","SECURITYSESSIONID":"186a4","npm_node_execpath":"/usr/local/bin/node","npm_config_prefix":"/usr/local"},"shell":false}
gyp sill find Python execFile result: err = null
gyp sill find Python execFile result: stdout = "/Library/Developer/CommandLineTools/usr/bin/python3"
gyp sill find Python execFile result: stderr = ""
gyp verb find Python - executable path is "/Library/Developer/CommandLineTools/usr/bin/python3"
gyp verb find Python - executing "/Library/Developer/CommandLineTools/usr/bin/python3" to get version
gyp sill find Python execFile: exec = "/Library/Developer/CommandLineTools/usr/bin/python3"
gyp sill find Python execFile: args = ["-c","import sys; print(\"%s.%s.%s\" % sys.version_info[:3]);"]
gyp sill find Python execFile: opts = {"env":{"TERM_PROGRAM":"Apple_Terminal","NODE":"/usr/local/bin/node","INIT_CWD":"/Users/homeimac/Downloads/RecipeRealm","SHELL":"/bin/zsh","TERM":"dumb","TMPDIR":"/var/folders/gf/mp6w2pgd18987bwmw0zx1nk00000gn/T/","npm_config_global_prefix":"/usr/local","TERM_PROGRAM_VERSION":"445.1","COLOR":"1","TERM_SESSION_ID":"FA8B75B8-0B16-43F0-80A4-19E8BC7AE956","npm_config_noproxy":"","npm_config_local_prefix":"/Users/homeimac/Downloads/RecipeRealm","USER":"homeimac","npm_config_globalconfig":"/usr/local/etc/npmrc","SSH_AUTH_SOCK":"/private/tmp/com.apple.launchd.R6kxdC8mX3/Listeners","__CF_USER_TEXT_ENCODING":"0x1F5:0x0:0x64","npm_execpath":"/usr/local/lib/node_modules/npm/bin/npm-cli.js","PATH":"/Users/homeimac/Downloads/RecipeRealm/node_modules/.bin:/Users/homeimac/Downloads/RecipeRealm/node_modules/.bin:/Users/homeimac/Downloads/node_modules/.bin:/Users/homeimac/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin","npm_package_json":"/Users/homeimac/Downloads/RecipeRealm/package.json","_":"/Users/homeimac/Downloads/RecipeRealm/node_modules/.bin/electron-builder","LaunchInstanceID":"94C121F0-159C-48E6-BDDD-DCF866C3E664","npm_config_userconfig":"/Users/homeimac/.npmrc","npm_config_init_module":"/Users/homeimac/.npm-init.js","__CFBundleIdentifier":"com.apple.Terminal","npm_command":"exec","PWD":"/Users/homeimac/Downloads/RecipeRealm","npm_lifecycle_event":"npx","EDITOR":"vi","npm_package_name":"rest-express","npm_config_npm_version":"10.2.4","XPC_FLAGS":"0x0","npm_config_node_gyp":"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js","npm_package_version":"1.0.0","XPC_SERVICE_NAME":"0","SHLVL":"3","HOME":"/Users/homeimac","npm_config_cache":"/Users/homeimac/.npm","LOGNAME":"homeimac","npm_lifecycle_script":"electron-builder","LC_CTYPE":"UTF-8","npm_config_user_agent":"npm/10.2.4 node/v20.11.0 darwin x64 workspaces/false","SECURITYSESSIONID":"186a4","npm_node_execpath":"/usr/local/bin/node","npm_config_prefix":"/usr/local"},"shell":false}
gyp sill find Python execFile result: err = null
gyp sill find Python execFile result: stdout = "3.9.6\n"
gyp sill find Python execFile result: stderr = ""
gyp verb find Python - version is "3.9.6"
gyp info find Python using Python version 3.9.6 found at "/Library/Developer/CommandLineTools/usr/bin/python3"
gyp verb get node dir compiling against --target node version: 38.3.0

gyp verb download using dist-url https://www.electronjs.org/headers
gyp verb install input version string "38.3.0"
gyp verb install installing version: 38.3.0
gyp verb install --ensure was passed, so won't reinstall if already installed
gyp verb install version is already installed, need to check "installVersion"
gyp verb got "installVersion" 11
gyp verb needs "installVersion" 11
gyp verb install version is good
gyp verb get node dir target node version installed: 38.3.0
gyp verb build dir attempting to create "build" dir: /Users/homeimac/Downloads/RecipeRealm/node_modules/cpu-features/build
gyp verb build dir "build" dir needed to be created? Yes
gyp verb build/config.gypi creating config file
gyp sill build/config.gypi {
gyp sill build/config.gypi target_defaults: {
gyp sill build/config.gypi cflags: [],
gyp sill build/config.gypi configurations: { Debug: [Object], Release: [Object] },
gyp sill build/config.gypi default_configuration: 'Release',
gyp sill build/config.gypi defines: [],
gyp sill build/config.gypi include_dirs: [],
gyp sill build/config.gypi libraries: []
gyp sill build/config.gypi },
gyp sill build/config.gypi variables: {
gyp sill build/config.gypi asan: 0,
gyp sill build/config.gypi build_v8_with_gn: 'false',
gyp sill build/config.gypi built_with_electron: 1,
gyp sill build/config.gypi control_flow_guard: 'false',
gyp sill build/config.gypi coverage: 'false',
gyp sill build/config.gypi dcheck_always_on: 0,
gyp sill build/config.gypi debug_nghttp2: 'false',
gyp sill build/config.gypi debug_node: 'false',
gyp sill build/config.gypi enable_lto: 'false',
gyp sill build/config.gypi enable_pgo_generate: 'false',
gyp sill build/config.gypi enable_pgo_use: 'false',
gyp sill build/config.gypi error_on_warn: 'false',
gyp sill build/config.gypi force_dynamic_crt: 0,
gyp sill build/config.gypi host_arch: 'x64',
gyp sill build/config.gypi icu_data_in: '..\\..\\deps\\icu-tmp\\icudt77l.dat',
gyp sill build/config.gypi icu_endianness: 'l',
gyp sill build/config.gypi icu_gyp_path: 'tools/icu/icu-generic.gyp',
gyp sill build/config.gypi icu_path: 'deps/icu-small',
gyp sill build/config.gypi icu_small: 'false',
gyp sill build/config.gypi icu_ver_major: '77',
gyp sill build/config.gypi libdir: 'lib',
gyp sill build/config.gypi llvm_version: '0.0',
gyp sill build/config.gypi napi_build_version: '10',
gyp sill build/config.gypi
  ⨯ node-gyp failed to rebuild '/Users/homeimac/Downloads/RecipeRealm/node_modules/cpu-features'  failedTask=build stackTrace=Error: node-gyp failed to rebuild '/Users/homeimac/Downloads/RecipeRealm/node_modules/cpu-features'
    at ChildProcess.<anonymous> (/Users/homeimac/Downloads/RecipeRealm/node_modules/@electron/rebuild/lib/module-type/node-gyp/node-gyp.js:121:24)
    at ChildProcess.emit (node:events:518:28)
    at ChildProcess._handle.onexit (node:internal/child_process:294:12)